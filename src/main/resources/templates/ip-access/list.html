<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

    <th:block th:replace="~{fragment/common :: commonStatic}"></th:block>
    <th:block th:replace="~{fragment/framework :: uikit}"></th:block>
    <th:block th:replace="~{fragment/framework :: bootstrap}"></th:block>
    <th:block th:replace="~{fragment/library :: tui-grid}"></th:block>

</head>
<body>

<!-- 헤더 -->
<th:block th:replace="~{fragment/header :: commonHeader}"></th:block>
<!-- 타이틀 -->
<th:block th:include="~{fragment/common :: commonTitle}"></th:block>

<div class="container mt-3">

    <div class="d-flex justify-content-between my-2">
        <a type="button" href=''
           class="link-secondary link-offset-2 link-underline-opacity-50 link-underline-opacity-100-hover">
            버튼
        </a>
    </div>

    <div id="gridTarget"></div>

</div>

</body>

<script type="application/javascript" th:inline="javascript">
    // csrf token
    let headers = {
    /*[[${_csrf.headerName}]]*/
    :
    /*[[${_csrf.token}]]*/
    }

    const Grid = tui.Grid;
    Grid.applyTheme('striped'); // Call API of static method

    let gridTarget = new Grid({
        el: document.getElementById("gridTarget"),
        rowHeaders: ['rowNum'],
        selectionUnit: 'row',
        columns: [
            {
                header: 'id', name: 'ipAccessId', align: 'center', hidden: true
            },
            {
                header : 'IP 주소', name: 'ipAddress', width : 150, align: 'center',
                resizable : true,
                sortable : true,
                filter: 'select'
            },
            {
                header: '상태', name: 'activeStatus', width: 150, align : 'center',
                resizable : true,
                sortable : true,
                filter: 'select'
            },
            {
                header: '메모', name: 'ipAccessDescription', width: 150, align: 'center',
                resizable : true,
                sortable : true
            },
            {
                header: '등록일', name: 'registerDate', width: 150, align: 'center',
                resizable : true,
                sortable : true,
                filter: 'date'
            },
            {
                header: '수정일', name: 'lastModifyDate', width: 150, align: 'center',
                resizable : true,
                sortable : true,
                filter: 'date'
            },
        ],
        data: {
            api: {
                readData: {
                    url : '/api/ip-access',
                    method : 'GET',
                    initParams : {}
                }
            },
            contentType: 'application/json',
            headers : headers
        },
        pageOptions: {
            perPage: 30
        },
        bodyHeight: 300
    })

</script>
</html>